<%- include('_header') %>

<%- include('_create_edit') %>

<script type="text/javascript" src="/javascripts/common.js"></script>
<link rel="stylesheet" href="/stylesheets/create_post.css">

<script type="text/javascript" src="/javascripts/components/upload.min.js"></script>
<link rel="stylesheet" href="/stylesheets/components/upload.min.css">

<div class="uk-grid">
  <div class="uk-container-center">
    <form class="uk-form uk-form-horizontal" action="/profile/create" method="POST">

      <div class="uk-form-row">
        <label for="name" class="uk-form-label">Name:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.name %>" type="text" name="name" placeholder="Name" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="gender" class="uk-form-label">Gender:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.gender %>" type="text" name="gender" placeholder="Gender" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="introduction" class="uk-form-label">Introduction:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.introduction %>" type="text" name="introduction" placeholder="Introduction" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="github" class="uk-form-label">Github:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.social_links.github %>" type="text" name="github" placeholder="Github" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="wechat" class="uk-form-label">Wechat:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.social_links.wechat %>" type="text" name="wechat" placeholder="Wechat" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="twitter" class="uk-form-label">Twitter:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.social_links.twitter %>" type="text" name="twitter" placeholder="Twitter" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="facebook" class="uk-form-label">Facebook:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.social_links.facebook %>" type="text" name="facebook" placeholder="Facebook" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <label for="contact" class="uk-form-label">Contact:</label>
        <div class="uk-form-controls">
          <input value="<%= profile.contact %>" type="text" name="contact" placeholder="phone number" class="uk-form-width-medium">
        </div>
      </div>

      <div class="uk-form-row">
        <button type="submit" name="button" class="uk-button-primary">Update</button>
      </div>

    </form>
  </div>
</div>

<script>
  $(function(){

      var progressbar = $("#progressbar"),
          bar         = progressbar.find('.uk-progress-bar'),
          settings    = {

          action: '/', // upload url

          allow : '*.(jpg|gif|png)', // allow only images

          loadstart: function() {
              bar.css("width", "0%").text("0%");
              progressbar.removeClass("uk-hidden");
          },

          progress: function(percent) {
              percent = Math.ceil(percent);
              bar.css("width", percent+"%").text(percent+"%");
          },

          allcomplete: function(response) {

              bar.css("width", "100%").text("100%");

              setTimeout(function(){
                  progressbar.addClass("uk-hidden");
              }, 250);

              alert("Upload Completed")
          }
      };

      var select = UIkit.uploadSelect($("#upload-select"), settings),
          drop   = UIkit.uploadDrop($("#upload-drop"), settings);
  });

  </script>


<%- include('_footer') %>
